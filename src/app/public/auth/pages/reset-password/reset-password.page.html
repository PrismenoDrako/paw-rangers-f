<app-auth-layout
  title="Restablecer contraseña"
  subtitle="Ingresa una nueva contraseña para tu cuenta."
>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="auth-form">
    <p class="error" *ngIf="error">{{ error }}</p>
    <div class="input-group">
      <label for="password">Nueva contraseña</label>
      <input
        id="password"
        type="password"
        formControlName="password"
        placeholder="••••••••"
        autocomplete="new-password"
      />
      <span class="error" *ngIf="form.controls.password.touched && form.controls.password.invalid">
        Mínimo 6 caracteres.
      </span>
    </div>

    <div class="input-group">
      <label for="confirmPassword">Confirmar contraseña</label>
      <input
        id="confirmPassword"
        type="password"
        formControlName="confirmPassword"
        placeholder="Repite tu contraseña"
        autocomplete="new-password"
      />
      <span
        class="error"
        *ngIf="form.controls.confirmPassword.touched && form.value.password !== form.value.confirmPassword"
      >
        Las contraseñas deben coincidir.
      </span>
    </div>

    <div class="actions">
      <button class="primary-btn" type="submit" [disabled]="loading">
        {{ loading ? 'Actualizando...' : 'Actualizar contraseña' }}
      </button>
      <a routerLink="/auth" class="secondary-link">Volver a inicio de sesión</a>
    </div>

    <p class="form-footer" *ngIf="updated">
      Listo. Tu contraseña fue actualizada. Inicia sesión de nuevo.
    </p>
  </form>
</app-auth-layout>
