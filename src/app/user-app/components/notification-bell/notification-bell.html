<button class="notification-button" (click)="toggleNotifications()" [class.has-unread]="unreadCount > 0">
  <i class="pi pi-bell"></i>
  <span *ngIf="unreadCount > 0" class="unread-badge">{{ unreadCount }}</span>
</button>

<div *ngIf="showNotifications" class="notification-dropdown">
  <div class="notification-header">
    <h3>Notificaciones</h3>
    <button *ngIf="notifications.length > 0" class="clear-btn" (click)="clearAll()">
      <i class="pi pi-trash"></i> Limpiar
    </button>
  </div>

  <div class="notification-list">
    <div *ngIf="notifications.length === 0" class="empty-state">
      <i class="pi pi-inbox"></i>
      <p>No hay notificaciones</p>
    </div>

    <div *ngFor="let notification of notifications" class="notification-item" [class.unread]="!(notification.read || notification.isRead)">
      <div class="notification-icon">
        <i [class]="'pi ' + getNotificationIcon(notification.type)"></i>
      </div>
      <div class="notification-content">
        <h4>{{ notification.title }}</h4>
        <p>{{ notification.message }}</p>
        <small *ngIf="notification.createdAt">{{ notification.createdAt | date:'short' }}</small>
      </div>
      <button *ngIf="!(notification.read || notification.isRead)" class="mark-read-btn" (click)="markAsRead(notification)" title="Marcar como leÃ­da">
        <i class="pi pi-check"></i>
      </button>
    </div>
  </div>
</div>
