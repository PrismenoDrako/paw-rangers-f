<div class="lost-pets-section">
  <div class="section-container">
    <!-- Contenedor con borde elegante -->
    <div class="carousel-card-container">
      <!-- Header con título y botón -->
      <app-lost-section-header
        title="Mascotas Perdidas"
        subtitle="Ayúdanos a encontrarlas"
        icon="pi-exclamation-triangle"
        [showViewAll]="true"
        (viewAllClick)="viewAllLostPets()">
      </app-lost-section-header>

      <!-- Carrusel de mascotas -->
      <p-carousel 
        [value]="lostPets" 
        [numVisible]="3" 
        [numScroll]="1" 
        [circular]="true" 
        [responsiveOptions]="responsiveOptions" 
        [autoplayInterval]="3000">
        <ng-template let-pet pTemplate="item">
          <div class="carousel-item-wrapper">
            <app-lost-pet-card
              [pet]="pet"
              (cardClick)="viewDetails($event)">
            </app-lost-pet-card>
          </div>
        </ng-template>
      </p-carousel>
    </div>

  </div>

  <!-- MODAL DE DETALLES DE MASCOTA PERDIDA -->
  <p-dialog [(visible)]="showDetailModal" [modal]="true" [header]="selectedPet?.name" [style]="{ width: '100%', maxWidth: '580px' }" (onHide)="closeModal()">
    <div *ngIf="selectedPet" class="pet-detail-modal">
      <!-- Lado izquierdo: Imagen -->
      <div class="modal-left">
        <div class="modal-image">
          <img [src]="selectedPet.image" [alt]="selectedPet.name" />
        </div>
      </div>

      <!-- Lado derecho: Información -->
      <div class="modal-right">
        <div class="location-tag">
          <i class="pi pi-map-marker"></i>
          {{ selectedPet.location }}
        </div>

        <div class="info-section">
          <h4><i class="pi pi-info-circle"></i> Información del Animal</h4>
          <div class="info-grid">
            <div class="info-item">
              <span class="info-label">ESPECIE / RAZA</span>
              <span class="info-value">{{ selectedPet.type }} • {{ selectedPet.breed }}</span>
            </div>
            <div class="info-item">
              <span class="info-label">PERDIDO</span>
              <span class="info-value">Hace {{ getDaysLost(selectedPet.date) }} días</span>
            </div>
          </div>
        </div>

        <div class="description">
          {{ selectedPet.description }}
        </div>

        <div class="contact-section">
          <h4><i class="pi pi-user"></i> Contacto del Dueño</h4>
          <div class="contact-item">
            <i class="pi pi-user"></i>
            <div>
              <span class="label">NOMBRE</span>
              <span class="value">{{ selectedPet.ownerName || 'No especificado' }}</span>
            </div>
          </div>
          <div class="contact-item">
            <i class="pi pi-phone"></i>
            <div>
              <span class="label">TELÉFONO</span>
              <span class="value">{{ selectedPet.ownerPhone || 'No disponible' }}</span>
            </div>
          </div>
          <div class="contact-item">
            <i class="pi pi-envelope"></i>
            <div>
              <span class="label">EMAIL</span>
              <span class="value">{{ selectedPet.ownerEmail || 'No disponible' }}</span>
            </div>
          </div>
        </div>

        <div class="footer-info" *ngIf="selectedPet.reward > 0">
          <i class="pi pi-money-bill"></i>
          <span>Recompensa: S/ {{ selectedPet.reward }}</span>
        </div>
      </div>
    </div>

    <ng-template pTemplate="footer">
      <button pButton label="Cerrar" icon="pi pi-times" (click)="closeModal()" class="p-button-secondary"></button>
      <button pButton label="Llamar Ahora" icon="pi pi-phone" class="p-button"></button>
    </ng-template>
  </p-dialog>
</div>
