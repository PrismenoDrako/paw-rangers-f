<p-card class="profile-section-card">
    <ng-template pTemplate="title">
        <div class="flex align-items-center justify-content-between">
            <h2 class="text-2xl font-bold mb-0">Mis Ubicaciones</h2>
            <p-button 
                label="Agregar" 
                icon="pi pi-plus"
                styleClass="p-button-primary p-button-sm"
                (click)="openAddLocationForm()"
                [disabled]="isLoading">
            </p-button>
        </div>
    </ng-template>
    
    <ng-template pTemplate="content">
        <div class="grid">
            @if (isLoading) {
                <div class="col-12 text-center py-4">
                    <p-progressSpinner [style]="{'width': '50px', 'height': '50px'}" strokeWidth="4"></p-progressSpinner>
                    <p class="mt-3">Cargando ubicaciones...</p>
                </div>
            } @else if (locations.length === 0) {
                <div class="col-12 text-center text-gray-500 py-4">
                    <p>No tienes ubicaciones guardadas. Â¡Crea una nueva!</p>
                </div>
            } @else {
                @for (location of locations; track location.id) {
                    <div class="col-12 mb-3">
                        <app-ubication-list-item 
                            [location]="location"
                            (locationDeleted)="onLocationDeleted($event)">
                        </app-ubication-list-item> 
                    </div>
                }
            }
        </div>
    </ng-template>
</p-card>

<p-toast position="top-center"></p-toast>
<p-confirmDialog></p-confirmDialog>